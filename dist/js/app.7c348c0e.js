(function(e){function t(t){for(var s,o,i=t[0],c=t[1],l=t[2],u=0,f=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);d&&d(t);while(f.length)f.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],s=!0,i=1;i<n.length;i++){var c=n[i];0!==a[c]&&(s=!1)}s&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var s={},a={app:0},r=[];function o(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=s,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(n,s,function(t){return e[t]}.bind(null,s));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var s=n("85ec"),a=n.n(s);a.a},1:function(e,t){},"363f":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.errorOpen?n("header",{staticClass:"error-panel"},[e._v(" Oh snap, an error :( ")]):n("header",[n("b",[e._v("Lolo v2")]),n("i",{staticClass:"material-icons",on:{click:function(t){return e.toggleMenu()}}},[e._v("menu")])]),e.menuOpen?n("main-menu",{attrs:{feeds:e.rssFeeds,categories:e.availableCategories,categoryFilters:e.categoryFilters},on:{addFeed:e.addFeed,deleteFeed:e.deleteFeed,toggleCategoryFilter:e.toggleCategoryFilter}}):e._e(),e.modalOpen?n("content-modal",{attrs:{content:e.openArticleContent},on:{close:function(t){return e.closeContent()}}}):e._e(),n("div",{staticClass:"articles-container"},[0===e.articles.length?n("h3",[e._v("Add some feeds to stay informed of the latest trends!")]):e._e(),e._l(e.filteredArticles,(function(t){return n("ul",{key:t.id},[n("feed-article",{attrs:{article:t,loadingUrl:e.loadingUrl,categories:e.availableCategories},on:{openContentModal:function(n){return e.fetchArticleContent(t.sourceUrl)}}})],1)}))],2)],1)},r=[],o=(n("4de4"),n("7db0"),n("4160"),n("caad"),n("c975"),n("fb6a"),n("a434"),n("ac1f"),n("2532"),n("1276"),n("159b"),n("b85c")),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("small",{class:{violet:0===e.article.feedColorCode,red:1===e.article.feedColorCode,green:2===e.article.feedColorCode,orange:3===e.article.feedColorCode,blue:4===e.article.feedColorCode}},[e._v(" "+e._s(e.loadingUrl===e.article.sourceUrl?"loading...":e.article.feed)+" ")]),n("div",{staticClass:"corner-mock"}),e.article.imageUrl?n("span",{staticClass:"image-wrapper",on:{click:function(t){return e.openContentModal()}}},[n("img",{staticClass:"image-content",attrs:{src:e.article.imageUrl,alt:"Picture not available"}})]):e.article.category?n("span",{staticStyle:{height:"34px"}}):e._e(),n("span",{staticClass:"text-pane"},[n("h1",{attrs:{id:"article-title"},on:{click:function(t){return e.openContentModal()}}},[e._v(e._s(e.article.title))]),n("span",{staticClass:"author-and-date"},[n("h2",[e._v(e._s(e.article.author))]),n("h2",[e._v(e._s(e.article.pubDate))])]),n("p",{attrs:{id:"article-description"},on:{click:function(t){return e.openContentModal()}}},[e._v(e._s(e.article.description))])]),e.article.category?n("div",{class:{violet:0===e.categoryColorCode,red:1===e.categoryColorCode,green:2===e.categoryColorCode,orange:3===e.categoryColorCode,blue:4===e.categoryColorCode},attrs:{id:"category-badge"}},[e._v(e._s(e.article.category))]):e._e()])},c=[],l={name:"FeedArticle",props:{article:Object,loadingUrl:String,categories:Array},methods:{openContentModal:function(){this.$emit("openContentModal")}},computed:{categoryColorCode:function(){return this.categories.indexOf(this.article.category)%5}}},d=l,u=(n("b07b"),n("2877")),f=Object(u["a"])(d,i,c,!1,null,"74d4f136",null),p=f.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content-modal-background",on:{click:function(t){return e.closeModal()}}},[n("div",{staticClass:"content-modal",on:{click:function(e){e.stopPropagation()}}},[n("button",{staticClass:"close",attrs:{type:"button"}},[n("i",{staticClass:"material-icons",on:{click:function(t){return e.closeModal()}}},[e._v("close")])]),n("p",{attrs:{id:"article-content"}})])])},m=[],b={name:"ContentModal",props:{content:String},methods:{closeModal:function(){this.$emit("close")}},mounted:function(){document.getElementById("article-content").innerHTML=this.content}},h=b,j=(n("5b72"),Object(u["a"])(h,g,m,!1,null,"2ae7fdaa",null)),y=j.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("p",[n("b",[e._v("Add new feed:")]),n("span",{staticClass:"input-module"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.addFeedInput,expression:"addFeedInput"}],attrs:{type:"text"},domProps:{value:e.addFeedInput},on:{click:function(t){e.editedFeed=""},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addFeed()},input:function(t){t.target.composing||(e.addFeedInput=t.target.value)}}}),n("button",{staticClass:"add",attrs:{type:"button"}},[n("i",{staticClass:"material-icons",on:{click:function(t){return e.addFeed()}}},[e._v("check")])])])]),n("p",{attrs:{id:"my-feeds"}},[n("b",[e._v("My feeds:")]),e._l(e.feeds,(function(t){return n("ul",{key:t},[e.editedFeed===t?n("span",{staticClass:"input-module"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.editFeedInput,expression:"editFeedInput"}],domProps:{value:e.editFeedInput},on:{keydown:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.confirmEdit(t)},input:function(t){t.target.composing||(e.editFeedInput=t.target.value)}}}),n("button",{staticClass:"add",attrs:{type:"button"}},[n("i",{staticClass:"material-icons",on:{click:function(n){return e.confirmEdit(t)}}},[e._v("check")])])]):n("li",[n("span",{attrs:{id:"my-feed"}},[e._v(" "+e._s(t)+" ")]),n("button",{staticClass:"edit",attrs:{type:"button"}},[n("i",{staticClass:"material-icons",attrs:{id:"edit-icon"},on:{click:function(n){return e.openEditField(t)}}},[e._v("create")])]),n("button",{staticClass:"delete",attrs:{type:"button"}},[n("i",{staticClass:"material-icons",attrs:{id:"delete-icon"},on:{click:function(n){return e.deleteFeed(t)}}},[e._v("delete_forever")])])])])}))],2),n("p",[e.categories.length>0?n("b",[e._v("Categories:")]):e._e(),e._l(e.categories,(function(t){return n("ul",{key:t,on:{click:function(n){return e.toggleCategoryFilter(t)}}},[n("button",{class:[e.categoryFilters.includes(t)?"feed-category-selected":"feed-category"]},[e._v(e._s(t))])])}))],2)])},C=[],F=(n("498a"),{name:"MainMenu",props:{feeds:Array,categories:Array,categoryFilters:Array},data:function(){return{addFeedInput:"",editFeedInput:"",editedFeed:""}},methods:{addFeed:function(){var e=this.addFeedInput||this.editFeedInput;this.validateInput(e)&&(e.trim(),this.$emit("addFeed",e),this.addFeedInput="",this.editFeedInput="")},deleteFeed:function(e){this.$emit("deleteFeed",e)},validateInput:function(e){return e.includes("http")&&(e.includes(".rss")||e.includes(".xml"))&&e.length>10&&e.length<1e3},openEditField:function(e){this.addFeedInput="",this.editFeedInput=e,this.editedFeed=e},confirmEdit:function(e){this.deleteFeed(e),this.addFeed(this.editFeedInput),this.editedFeed=""},toggleCategoryFilter:function(e){this.$emit("toggleCategoryFilter",e)}}}),k=F,_=(n("894d"),Object(u["a"])(k,v,C,!1,null,"80ee3524",null)),O=_.exports,x=n("4850"),E=n.n(x),M=n("ec26"),w={name:"App",components:{FeedArticle:p,ContentModal:y,MainMenu:O},data:function(){return{rssFeeds:[],articles:[],modalOpen:!1,openArticleContent:"",loadingUrl:null,proxy:"https://cors-anywhere.herokuapp.com/",menuOpen:!1,errorOpen:!1,availableCategories:[],categoryFilters:[]}},methods:{fetchAllArticles:function(e){var t=this;e.forEach((function(e){t.fetchFeedArticles(e)}))},fetchFeedArticles:function(e){var t=new XMLHttpRequest,n=this;t.open("GET",this.proxy+e,!0),t.onreadystatechange=function(){4==t.readyState&&200==t.status?t.responseXML?(n.rssFeeds.includes(e)||(n.rssFeeds.push(e),localStorage.setItem("storedFeeds",n.rssFeeds)),n.populateObjectsArray(t.responseXML.documentElement,e)):(n.displayError(),console.error("Feed ".concat(e," didn't respond"))):4==t.readyState&&200!==t.status&&(n.displayError(),console.error("Feed ".concat(e," responded with error")))},t.send(null)},fetchArticleContent:function(e){var t=this;this.loadingUrl=e,E.a.parse(this.proxy+e).then((function(e){var n=e.content;t.openContentModal(n),t.loadingUrl=null}))},populateObjectsArray:function(e,t){var n,s=this,a=e.getElementsByTagName("item"),r=Object(o["a"])(a);try{var i=function(){var e=n.value,a={};a.title=e.getElementsByTagName("title").item(0)?e.getElementsByTagName("title").item(0).textContent:"",a.category=e.getElementsByTagName("category").item(0)?e.getElementsByTagName("category")[0].textContent:"",a.pubDate=e.getElementsByTagName("pubDate").item(0)?e.getElementsByTagName("pubDate")[0].textContent:"",a.author=e.getElementsByTagName("author").item(0)?e.getElementsByTagName("author")[0].textContent:"",a.description=e.getElementsByTagName("description").item(0)?e.getElementsByTagName("description")[0].textContent:"",a.sourceUrl=e.getElementsByTagName("link").item(0)?e.getElementsByTagName("link")[0].textContent:"",a.feed=t,a.feedColorCode=s.rssFeeds.indexOf(t)%5,a.imageUrl=s.findImageUrl(e.innerHTML)?s.findImageUrl(e.innerHTML):"",a.id=Object(M["a"])(),s.articles.find((function(e){return e.sourceUrl===a.sourceUrl}))||s.articles.push(a),a.category&&!s.availableCategories.includes(a.category)&&s.availableCategories.push(a.category)};for(r.s();!(n=r.n()).done;)i()}catch(c){r.e(c)}finally{r.f()}},findImageUrl:function(e){var t=e.split('"'),n=t.find((function(e){return e.includes(".jpg")||e.includes(".png")||e.includes(".gif")}));return n},compareDates:function(e,t){var n=new Date(e.pubDate),s=new Date(t.pubDate),a=0;return n>s?a=-1:n<s&&(a=1),a},openContentModal:function(e){this.openArticleContent=e,this.modalOpen=!0},closeContent:function(){this.modalOpen=!1},toggleMenu:function(){this.menuOpen=!this.menuOpen},addFeed:function(e){this.fetchFeedArticles(e)},deleteFeed:function(e){var t=this.rssFeeds.indexOf(e);t>-1?(this.rssFeeds.splice(t,1),localStorage.setItem("storedFeeds",this.rssFeeds),this.removeFeedsArticles(e)):(this.displayError(),console.error("Feed ".concat(e," doesn't exist")))},displayError:function(){var e=this;this.errorOpen=!0,setTimeout((function(){e.errorOpen=!1}),2e3)},toggleCategoryFilter:function(e){if(this.categoryFilters.includes(e)){var t=this.categoryFilters.indexOf(e);t>-1?this.categoryFilters.splice(t,1):(this.displayError(),console.error("Category ".concat(e," doesn't exist")))}else this.categoryFilters.push(e)},removeFeedsArticles:function(e){for(var t=this.articles.length-1;t>-1;t--){var n=this.articles[t];n.feed===e&&this.articles.splice(t,1)}},initializeLocalStorage:function(){localStorage.getItem("storedFeeds")||localStorage.setItem("storedFeeds","https://flipboard.com/@raimoseero/feed-nii8kd0sz.rss"),this.rssFeeds=localStorage.getItem("storedFeeds").split(",")}},computed:{sortedArticles:function(){return this.articles.slice().sort(this.compareDates)},filteredArticles:function(){var e=this;return 0===this.categoryFilters.length?this.sortedArticles:this.sortedArticles.filter((function(t){return e.categoryFilters.includes(t.category)}))}},mounted:function(){this.initializeLocalStorage(),this.fetchAllArticles(this.rssFeeds)}},A=w,I=(n("034f"),Object(u["a"])(A,a,r,!1,null,null,null)),z=I.exports;s["a"].config.productionTip=!1,new s["a"]({render:function(e){return e(z)}}).$mount("#app")},"5b72":function(e,t,n){"use strict";var s=n("363f"),a=n.n(s);a.a},6378:function(e,t,n){},8135:function(e,t,n){},"85ec":function(e,t,n){},"894d":function(e,t,n){"use strict";var s=n("8135"),a=n.n(s);a.a},b07b:function(e,t,n){"use strict";var s=n("6378"),a=n.n(s);a.a},e979:function(e,t,n){var s={"./af":"df53","./af.js":"df53","./ar":"a804","./ar-dz":"d5ba","./ar-dz.js":"d5ba","./ar-kw":"503a","./ar-kw.js":"503a","./ar-ly":"61f7","./ar-ly.js":"61f7","./ar-ma":"982b","./ar-ma.js":"982b","./ar-sa":"fafc","./ar-sa.js":"fafc","./ar-tn":"f68b","./ar-tn.js":"f68b","./ar.js":"a804","./az":"ad2e","./az.js":"ad2e","./be":"6930","./be.js":"6930","./bg":"d056","./bg.js":"d056","./bm":"7bff","./bm.js":"7bff","./bn":"49b9","./bn.js":"49b9","./bo":"bc12","./bo.js":"bc12","./br":"99c2","./br.js":"99c2","./bs":"a76a","./bs.js":"a76a","./ca":"4bd7","./ca.js":"4bd7","./cs":"094b","./cs.js":"094b","./cv":"28b1","./cv.js":"28b1","./cy":"0e88","./cy.js":"0e88","./da":"bc23","./da.js":"bc23","./de":"c12b","./de-at":"f173","./de-at.js":"f173","./de-ch":"047e","./de-ch.js":"047e","./de.js":"c12b","./dv":"9b9e","./dv.js":"9b9e","./el":"ea49","./el.js":"ea49","./en-au":"ea3e","./en-au.js":"ea3e","./en-ca":"1c38","./en-ca.js":"1c38","./en-gb":"a7f2","./en-gb.js":"a7f2","./en-ie":"16d7","./en-ie.js":"16d7","./en-il":"2b4f","./en-il.js":"2b4f","./en-nz":"bdf2","./en-nz.js":"bdf2","./eo":"a057","./eo.js":"a057","./es":"0e26","./es-do":"c072","./es-do.js":"c072","./es-us":"ec0b","./es-us.js":"ec0b","./es.js":"0e26","./et":"d0c7","./et.js":"d0c7","./eu":"e2dd","./eu.js":"e2dd","./fa":"fdd1","./fa.js":"fdd1","./fi":"de57","./fi.js":"de57","./fo":"d8fc","./fo.js":"d8fc","./fr":"035c","./fr-ca":"c4a5","./fr-ca.js":"c4a5","./fr-ch":"5f23","./fr-ch.js":"5f23","./fr.js":"035c","./fy":"d186","./fy.js":"d186","./gd":"3097","./gd.js":"3097","./gl":"a2c3","./gl.js":"a2c3","./gom-latn":"cc4b","./gom-latn.js":"cc4b","./gu":"8c9c","./gu.js":"8c9c","./he":"ad96","./he.js":"ad96","./hi":"25e9","./hi.js":"25e9","./hr":"aebf","./hr.js":"aebf","./hu":"4243","./hu.js":"4243","./hy-am":"bfe5","./hy-am.js":"bfe5","./id":"30ac","./id.js":"30ac","./is":"d0e8","./is.js":"d0e8","./it":"3a5e","./it.js":"3a5e","./ja":"fbce","./ja.js":"fbce","./jv":"b36b","./jv.js":"b36b","./ka":"c90b","./ka.js":"c90b","./kk":"0d53","./kk.js":"0d53","./km":"af44","./km.js":"af44","./kn":"9bca","./kn.js":"9bca","./ko":"8f7e","./ko.js":"8f7e","./ku":"169f","./ku.js":"169f","./ky":"49fb","./ky.js":"49fb","./lb":"220e","./lb.js":"220e","./lo":"703e","./lo.js":"703e","./lt":"f94b","./lt.js":"f94b","./lv":"e0a5","./lv.js":"e0a5","./me":"bdec","./me.js":"bdec","./mi":"664d","./mi.js":"664d","./mk":"9f9f","./mk.js":"9f9f","./ml":"579d","./ml.js":"579d","./mn":"3f67","./mn.js":"3f67","./mr":"3406","./mr.js":"3406","./ms":"6d72","./ms-my":"e789","./ms-my.js":"e789","./ms.js":"6d72","./mt":"cf9d","./mt.js":"cf9d","./my":"5aad","./my.js":"5aad","./nb":"a1ac","./nb.js":"a1ac","./ne":"7094","./ne.js":"7094","./nl":"4155","./nl-be":"2d18","./nl-be.js":"2d18","./nl.js":"4155","./nn":"a626","./nn.js":"a626","./pa-in":"5a99","./pa-in.js":"5a99","./pl":"5eef","./pl.js":"5eef","./pt":"212f","./pt-br":"93d2","./pt-br.js":"93d2","./pt.js":"212f","./ro":"b6aa","./ro.js":"b6aa","./ru":"9e6d","./ru.js":"9e6d","./sd":"9e05","./sd.js":"9e05","./se":"7381","./se.js":"7381","./si":"f2fa","./si.js":"f2fa","./sk":"1537","./sk.js":"1537","./sl":"d989","./sl.js":"d989","./sq":"4e09","./sq.js":"4e09","./sr":"08c3","./sr-cyrl":"4b8c","./sr-cyrl.js":"4b8c","./sr.js":"08c3","./ss":"4fa4","./ss.js":"4fa4","./sv":"569e","./sv.js":"569e","./sw":"9a1d","./sw.js":"9a1d","./ta":"e75c","./ta.js":"e75c","./te":"5a65","./te.js":"5a65","./tet":"5b75","./tet.js":"5b75","./tg":"4560","./tg.js":"4560","./th":"4134","./th.js":"4134","./tl-ph":"f447","./tl-ph.js":"f447","./tlh":"44a7","./tlh.js":"44a7","./tr":"71b6","./tr.js":"71b6","./tzl":"a7d6","./tzl.js":"a7d6","./tzm":"8bdc","./tzm-latn":"7b1e","./tzm-latn.js":"7b1e","./tzm.js":"8bdc","./ug-cn":"48ea","./ug-cn.js":"48ea","./uk":"470f","./uk.js":"470f","./ur":"cf3e","./ur.js":"cf3e","./uz":"5c3a","./uz-latn":"cf48","./uz-latn.js":"cf48","./uz.js":"5c3a","./vi":"8604","./vi.js":"8604","./x-pseudo":"febf","./x-pseudo.js":"febf","./yo":"a92a","./yo.js":"a92a","./zh-cn":"4823","./zh-cn.js":"4823","./zh-hk":"d82c","./zh-hk.js":"d82c","./zh-tw":"1b7b","./zh-tw.js":"1b7b"};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}a.keys=function(){return Object.keys(s)},a.resolve=r,e.exports=a,a.id="e979"}});
//# sourceMappingURL=app.7c348c0e.js.map